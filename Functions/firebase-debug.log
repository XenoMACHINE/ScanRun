[debug] [2018-10-04T07:58:50.161Z] ----------------------------------------------------------------------
[debug] [2018-10-04T07:58:50.163Z] Command:       /usr/local/bin/node /usr/local/bin/firebase deploy --only functions
[debug] [2018-10-04T07:58:50.163Z] CLI Version:   4.2.1
[debug] [2018-10-04T07:58:50.163Z] Platform:      darwin
[debug] [2018-10-04T07:58:50.163Z] Node Version:  v8.7.0
[debug] [2018-10-04T07:58:50.164Z] Time:          Thu Oct 04 2018 09:58:50 GMT+0200 (CEST)
[debug] [2018-10-04T07:58:50.164Z] ----------------------------------------------------------------------
[debug] 
[debug] [2018-10-04T07:58:50.174Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2018-10-04T07:58:50.174Z] > authorizing via signed-in user
[debug] [2018-10-04T07:58:50.175Z] > refreshing access token with scopes: ["email","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","openid"]
[debug] [2018-10-04T07:58:50.176Z] >>> HTTP REQUEST POST https://www.googleapis.com/oauth2/v3/token  

[debug] [2018-10-04T07:58:50.276Z] <<< HTTP RESPONSE 200
[debug] [2018-10-04T07:58:50.291Z] >>> HTTP REQUEST GET https://admin.firebase.com/v1/projects/scanrun-5f26e  
 
[debug] [2018-10-04T07:58:50.968Z] <<< HTTP RESPONSE 200
[info] 
[info] === Deploying to 'scanrun-5f26e'...
[info] 
[info] i  deploying functions
[debug] [2018-10-04T07:58:52.597Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "dependencies": {
    "@google-cloud/firestore": "^0.16.1",
    "@google-cloud/projectify": "^0.3.0",
    "body-parser": "^1.18.3",
    "cors": "^2.8.4",
    "express": "^4.16.3",
    "firebase-admin": "^6.0.0",
    "firebase-functions": "^2.0.5",
    "request": "^2.81.0"
  },
  "private": true
}
[info] i  functions: ensuring necessary APIs are enabled...
[debug] [2018-10-04T07:58:52.597Z] >>> HTTP REQUEST GET https://servicemanagement.googleapis.com/v1/services/cloudfunctions.googleapis.com/projectSettings/scanrun-5f26e?view=CONSUMER_VIEW  
 
[debug] [2018-10-04T07:58:52.598Z] >>> HTTP REQUEST GET https://servicemanagement.googleapis.com/v1/services/runtimeconfig.googleapis.com/projectSettings/scanrun-5f26e?view=CONSUMER_VIEW  
 
[debug] [2018-10-04T07:58:53.256Z] <<< HTTP RESPONSE 200
[debug] [2018-10-04T07:58:53.916Z] <<< HTTP RESPONSE 200
[info] ✔  functions: all necessary APIs are enabled
[debug] [2018-10-04T07:58:53.917Z] >>> HTTP REQUEST GET https://cloudresourcemanager.googleapis.com/v1/projects/scanrun-5f26e  
 
[debug] [2018-10-04T07:58:54.642Z] <<< HTTP RESPONSE 200
[debug] [2018-10-04T07:58:54.643Z] >>> HTTP REQUEST GET https://mobilesdk-pa.googleapis.com/v1/projects/1068063279277:getServerAppConfig  
 
[debug] [2018-10-04T07:58:54.803Z] <<< HTTP RESPONSE 200
[info] i  functions: preparing functions directory for uploading...
[debug] [2018-10-04T07:58:54.805Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/scanrun-5f26e/configs  
 
[debug] [2018-10-04T07:58:56.027Z] <<< HTTP RESPONSE 200
[info] i  functions: packaged functions (46.41 KB) for uploading
[debug] [2018-10-04T07:58:56.636Z] >>> HTTP REQUEST POST https://cloudfunctions.googleapis.com/v1/projects/scanrun-5f26e/locations/us-central1/functions:generateUploadUrl  
 
[debug] [2018-10-04T07:58:56.939Z] <<< HTTP RESPONSE 200
[debug] [2018-10-04T07:58:56.939Z] >>> HTTP REQUEST PUT https://storage.googleapis.com/gcf-upload-us-central1-bd0639db-9af2-454d-b77a-f47bf2e32a57/46ea5a20-cc27-4bd0-a629-e72d4fd28dfd.zip?GoogleAccessId=service-1068063279277@gcf-admin-robot.iam.gserviceaccount.com&Expires=1538641738&Signature=ONKtdmTEUFKsj3ZsfamcNhP5rRQ6GschJNtjxoyDmGO9mUvCoYSEmPcOyjg7oXUx%2FqHkv7%2FldUUufTVd3%2F8FCHo%2Bla3JlxIzJsg37mKRb4bps7Vb0TT9uAOaqrf%2FxfSY6tz1MEyyRwa8yXK0%2FL2rLsC6WiIcMFdgobL2rqTRB0Jgdsaq%2Bfz5USKMLZYW2XJy8pnf14NoMnSx%2FfW0boD1ResIxt3F0HEhMU8%2Fb1MDRWgniCd3LJxwtMwLyKDqvfyv8lc4%2FQhRPw3QkESuTfqcJnmCb%2BYIxB2ycqqy%2F3mJF5rv9zlGlwxE5RA5%2FVFBdYbHufXE5l7Yw8ZzZzZUOFoHSA%3D%3D  

[debug] [2018-10-04T07:58:57.492Z] <<< HTTP RESPONSE 200
[info] ✔  functions: functions folder uploaded successfully
[debug] [2018-10-04T07:58:57.495Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/projects/scanrun-5f26e/locations/-/functions  
 
[debug] [2018-10-04T07:58:58.126Z] <<< HTTP RESPONSE 200
[info] i  functions: creating Node.js 6 function autoCreateUser(europe-west1)...
[debug] [2018-10-04T07:58:58.129Z] Trigger is:  {"eventTrigger":{"resource":"projects/scanrun-5f26e","eventType":"providers/firebase.auth/eventTypes/user.create","service":"firebaseauth.googleapis.com"}}
[info] i  functions: creating Node.js 6 function autoDeleteUser(europe-west1)...
[debug] [2018-10-04T07:58:58.129Z] Trigger is:  {"eventTrigger":{"resource":"projects/scanrun-5f26e","eventType":"providers/firebase.auth/eventTypes/user.delete","service":"firebaseauth.googleapis.com"}}
[info] i  functions: updating Node.js 6 function api(europe-west1)...
[debug] [2018-10-04T07:58:58.130Z] Trigger is:  {"httpsTrigger":{}}
[info] 
The following functions are found in your project but do not exist in your local source code:
	autoCreateUser(us-central1)
	autoDeleteUser(us-central1)

If you are renaming a function or changing its region, it is recommended that you create the new function first before deleting the old one to prevent event loss. For more info, visit https://firebase.google.com/docs/functions/manage-functions#modify

[debug] [2018-10-04T08:24:08.933Z] TypeError: Cannot read property 'setRawMode' of null
    at ReadStream.setRawMode (tty.js:62:16)
    at Interface._setRawMode (readline.js:243:16)
    at Interface.close (readline.js:367:10)
    at ReadStream.ontermend (readline.js:156:10)
    at emitNone (events.js:110:20)
    at ReadStream.emit (events.js:207:7)
    at endReadableNT (_stream_readable.js:1057:12)
    at _combinedTickCallback (internal/process/next_tick.js:138:11)
    at process._tickDomainCallback (internal/process/next_tick.js:218:9)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2018-10-04T08:24:08.935Z] Error: write EIO
    at _errnoException (util.js:1021:11)
    at WriteWrap.afterWrite [as oncomplete] (net.js:860:14)
[error] 
[error] Error: An unexpected error has occurred.
